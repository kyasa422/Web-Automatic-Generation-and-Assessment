import{q as x,W as h,j as e}from"./app-DYOkymjs.js";import"./index-CuOBbdri.js";import{D as b}from"./DefaultLayout-766aHJ-U.js";import{S as m}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{w as o}from"./sweetalert2-react-content.es-CYXHCyHS.js";const N=()=>{const{setting:i,all_permissions:r}=x().props,{data:t,setData:n,put:d,errors:a}=h({question_id:i.question_id,start_time:i.start_time,end_time:i.end_time,permissions:i.permissions.map(s=>parseInt(s.permission_id))});console.log(r),console.log(t.permissions);const c=s=>{const l=parseInt(s.target.value);s.target.checked?n("permissions",[...t.permissions,l]):n("permissions",t.permissions.filter(u=>u!==l))},p=s=>{s.preventDefault(),d(route("guru.ulangan-setting.update",i.id),{preserveScroll:!0,onSuccess:()=>{o(m).fire({title:"Berhasil!",text:"Pengaturan ulangan diperbarui.",icon:"success"})},onError:()=>{o(m).fire({title:"Gagal!",text:"Ada kesalahan saat menyimpan.",icon:"error"})}})};return e.jsx(b,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Mulai"}),e.jsx("input",{type:"datetime-local",value:t.start_time,onChange:s=>n("start_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),a.start_time&&e.jsx("p",{className:"text-red-500 text-sm",children:a.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Selesai"}),e.jsx("input",{type:"datetime-local",value:t.end_time,onChange:s=>n("end_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),a.end_time&&e.jsx("p",{className:"text-red-500 text-sm",children:a.end_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Izin Kelas"}),e.jsx("div",{className:"space-y-1",children:r.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:t.permissions.includes(parseInt(s.id)),onChange:c}),e.jsx("span",{children:s.name})]},s.id))}),a.permissions&&e.jsx("p",{className:"text-red-500 text-sm",children:a.permissions})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded shadow",children:"Simpan Perubahan"})]})})};export{N as default};
