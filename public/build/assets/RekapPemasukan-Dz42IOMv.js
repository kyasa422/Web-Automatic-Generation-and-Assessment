import{j as t}from"./app-1hF9zYEI.js";import{u as i,w}from"./xlsx-DjuO7_Ju.js";import"./flowbite.min-BWEkewtM.js";import{d as N}from"./index-B-ruqEgH.js";const v=({laporanPrivate:c,bulan:r,tahun:m,nextMonth:b,nextYear:p,prevMonth:y,prevYear:u})=>{const o=(s,d)=>{N.Inertia.get(route("admin.rekap.private"),{bulan:s,tahun:d})},l=s=>c.data.reduce((d,x)=>d+(x[s]||0),0),f=(s,d)=>{const x=s.data.map(e=>({Hari:e.hari,Tanggal:e.tanggal,"30.000":e.biaya_30||0,"35.000":e.biaya_35||0,"40.000":e.biaya_40||0,"45.000":e.biaya_45||0,"Total Biaya":e.totalbiaya||0,Daftar:e.daftar||0,Modul:e.modul||0,Kaos:e.kaos||0,Kas:e.kas||0,"Lain Lain":e.lainlain||0,"Total Pemasukan":e.totalpemasukan||0})),j={Hari:"Total",Tanggal:"","30.000":x.reduce((e,a)=>e+a["30.000"],0),"35.000":x.reduce((e,a)=>e+a["35.000"],0),"40.000":x.reduce((e,a)=>e+a["40.000"],0),"45.000":x.reduce((e,a)=>e+a["45.000"],0),"Total Biaya":x.reduce((e,a)=>e+a["Total Biaya"],0),Daftar:x.reduce((e,a)=>e+a.Daftar,0),Modul:x.reduce((e,a)=>e+a.Modul,0),Kaos:x.reduce((e,a)=>e+a.Kaos,0),Kas:x.reduce((e,a)=>e+a.Kas,0),"Lain Lain":x.reduce((e,a)=>e+a["Lain Lain"],0),"Total Pemasukan":x.reduce((e,a)=>e+a["Total Pemasukan"],0)};x.push(j);const n=["Hari","Tanggal","30.000","35.000","40.000","45.000","Total Biaya","Daftar","Modul","Kaos","Kas","Lain Lain","Total Pemasukan"],h=i.json_to_sheet(x,{header:n});i.sheet_add_aoa(h,[n],{origin:"A1"});const k=i.book_new();i.book_append_sheet(k,h,"Rekap");const g=`Rekap_Pemasukan_private_${d}.xlsx`;w(k,g)};return t.jsx("div",{children:t.jsxs("div",{className:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t.jsxs("div",{className:"flex justify-between px-7.5 mb-6",children:[t.jsxs("h4",{className:"text-xl font-semibold text-black dark:text-white",children:["Rekap Pemasukan Private - ",r," / ",m]}),t.jsx("div",{children:t.jsx("button",{onClick:()=>f(c,`${r} / ${m}`),className:"bg-green-500 text-white px-4 py-2 rounded ml-2 hover:bg-green-600",children:"Download Excel"})})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4",children:[t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"Hari"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Tanggal"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"30.000"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"35.000"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"40.000"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"45.000"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Total Biaya"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Daftar"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Modul"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Kaos"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Kas"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Total"})]})}),t.jsx("tbody",{children:c.data.map((s,d)=>t.jsxs("tr",{className:"border-b border-stroke dark:border-strokedark",children:[t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white pl-10",children:s.hari}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.tanggal}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.biaya_30}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.biaya_35}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.biaya_40}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.biaya_45}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.totalbiaya.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.daftar.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.modul.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.kaos.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.kas.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.lainlain.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.totalpemasukan.toLocaleString()})]},d))}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4 font-semibold",children:[t.jsx("td",{colSpan:"2",className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"Total"}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("biaya_30")}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("biaya_35")}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("biaya_40")}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("biaya_45")}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("totalbiaya").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("daftar").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("modul").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("kaos").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("kas").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("lainlain").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm font-bold text-black dark:text-white",children:l("totalpemasukan").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-center text-sm font-medium text-black dark:text-white"})]})})]}),t.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[t.jsx("button",{onClick:()=>o(y,u),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Sebelumnya"}),t.jsx("button",{onClick:()=>o(b,p),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Selanjutnya"})]})]})]})})};export{v as default};
