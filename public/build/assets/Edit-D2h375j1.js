import{q as x,W as h,j as e}from"./app-FHMFf5XN.js";import"./index-BhYj_LSp.js";import{D as b}from"./DefaultLayout-vLjwknu1.js";import{S as l}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{w as m}from"./sweetalert2-react-content.es-LAs-VSWR.js";const N=()=>{const{setting:a,all_permissions:d}=x().props,{data:i,setData:n,put:o,errors:t}=h({question_id:a.question_id,start_time:a.start_time,end_time:a.end_time,permissions:a.permissions.map(s=>s.permission_id)}),c=s=>{const r=parseInt(s.target.value);s.target.checked?n("permissions",[...i.permissions,r]):n("permissions",i.permissions.filter(p=>p!==r))},u=s=>{s.preventDefault(),o(route("guru.ulangan-setting.update",a.id),{preserveScroll:!0,onSuccess:()=>{m(l).fire({title:"Berhasil!",text:"Pengaturan ulangan diperbarui.",icon:"success"})},onError:()=>{m(l).fire({title:"Gagal!",text:"Ada kesalahan saat menyimpan.",icon:"error"})}})};return e.jsx(b,{children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Mulai"}),e.jsx("input",{type:"datetime-local",value:i.start_time,onChange:s=>n("start_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),t.start_time&&e.jsx("p",{className:"text-red-500 text-sm",children:t.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Selesai"}),e.jsx("input",{type:"datetime-local",value:i.end_time,onChange:s=>n("end_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),t.end_time&&e.jsx("p",{className:"text-red-500 text-sm",children:t.end_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Izin Kelas"}),e.jsx("div",{className:"space-y-1",children:d.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",value:s.id,defaultChecked:i.permissions.includes(s.id),onChange:c}),e.jsx("span",{children:s.name})]},s.id))}),t.permissions&&e.jsx("p",{className:"text-red-500 text-sm",children:t.permissions})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded shadow",children:"Simpan Perubahan"})]})})};export{N as default};
