import{q as x,W as h,r as f,j as e}from"./app-6BocTkNu.js";import"./index-Vh0J3jkb.js";import{D as b}from"./DefaultLayout-D7N8Ctiw.js";import{S as l}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{w as m}from"./sweetalert2-react-content.es-BBfSIRWu.js";const y=()=>{const{setting:t,all_permissions:o}=x().props,{data:i,setData:r,put:d,errors:a}=h({question_id:t.question_id,start_time:t.start_time,end_time:t.end_time,permissions:[]});f.useEffect(()=>{t.permissions&&r("permissions",t.permissions.map(s=>s.permission_id))},[t.permissions]);const c=s=>{const n=parseInt(s.target.value);s.target.checked?r("permissions",[...i.permissions,n]):r("permissions",i.permissions.filter(u=>u!==n))},p=s=>{s.preventDefault(),d(route("guru.ulangan-setting.update",t.id),{preserveScroll:!0,onSuccess:()=>{m(l).fire({title:"Berhasil!",text:"Pengaturan ulangan diperbarui.",icon:"success"})},onError:()=>{m(l).fire({title:"Gagal!",text:"Ada kesalahan saat menyimpan.",icon:"error"})}})};return e.jsx(b,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Mulai"}),e.jsx("input",{type:"datetime-local",value:i.start_time,onChange:s=>r("start_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),a.start_time&&e.jsx("p",{className:"text-red-500 text-sm",children:a.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Selesai"}),e.jsx("input",{type:"datetime-local",value:i.end_time,onChange:s=>r("end_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),a.end_time&&e.jsx("p",{className:"text-red-500 text-sm",children:a.end_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Izin Kelas"}),e.jsx("div",{className:"space-y-1",children:o.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:i.permissions.includes(s.id),onChange:c}),e.jsx("span",{children:s.name})]},s.id))}),a.permissions&&e.jsx("p",{className:"text-red-500 text-sm",children:a.permissions})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded shadow",children:"Simpan Perubahan"})]})})};export{y as default};
