import{q as m,r as u,j as e,y as t}from"./app-YKxtQAKr.js";import{D as h}from"./DefaultLayout-iMLX5co2.js";import{S as r}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import"./index-Ht7fSIaI.js";function N(){const{permissions:o,flash:p}=m().props,[l,n]=u.useState(""),i=a=>{a.preventDefault(),t.post("/permissions",{name:l},{onSuccess:()=>n("")})},c=(a,s)=>{t.put(`/permissions/${a}`,{name:s})},d=a=>{r.fire({title:"Apakah Anda yakin?",text:"Data ini akan dihapus permanen!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&t.delete(`/permissions/${a}`,{onSuccess:()=>{r.fire("Berhasil!","Data telah dihapus.","success")},onError:()=>{r.fire("Gagal!","Terjadi kesalahan saat menghapus.","error")}})})};return e.jsx(h,{children:e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Kelola Kelas"}),e.jsxs("form",{onSubmit:i,className:"mb-4",children:[e.jsx("input",{type:"text",value:l,onChange:a=>n(a.target.value),className:"border p-2 w-full",placeholder:"Enter permission name",required:!0}),e.jsx("button",{type:"submit",className:"mt-2 p-2 bg-blue-500 text-white",children:"Tambah Kelas"})]}),e.jsxs("table",{className:"w-full border-collapse border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border p-2",children:"Name"}),e.jsx("th",{className:"border p-2",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2",children:e.jsx("input",{type:"text",defaultValue:a.name,onBlur:s=>c(a.id,s.target.value),className:"w-full p-1 border"})}),e.jsx("td",{className:"border p-2",children:e.jsx("button",{onClick:()=>d(a.id),className:"bg-red-500 text-white p-1",children:"Delete"})})]},a.id))})]})]})})}export{N as default};
