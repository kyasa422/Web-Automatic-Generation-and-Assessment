import{q as d,j as e,a as l,y as m}from"./app-C6ymd91F.js";import{D as o}from"./DefaultLayout-C030zAq3.js";import{F as h,a as p}from"./index-BrxrZHHK.js";import{S as i}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import"./index-Dz5-6SWA.js";const y=()=>{const{userData:a}=d().props;d().props;const n=a.data.filter(t=>t.roles.some(s=>s.name==="Siswa")),c=t=>{i.fire({title:"Apakah Anda yakin?",text:"Data ini akan dihapus permanen!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&m.delete(`/admin/userssiswa/${t}`,{onSuccess:()=>{i.fire("Berhasil!","Data telah dihapus.","success")},onError:()=>{i.fire("Gagal!","Terjadi kesalahan saat menghapus.","error")}})})};return e.jsx(o,{children:e.jsxs("div",{className:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsxs("div",{className:"flex justify-between px-7.5 mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-black dark:text-white",children:"Siswa"}),e.jsx("div",{children:e.jsx(l,{href:"/admin/userssiswa/create",children:e.jsx("button",{className:"bg-primary text-white px-4 py-2 rounded hover:bg-opacity-90",children:"Tambah Siswa"})})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4",children:[e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"No"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Name"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Email"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Kelas"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Role"}),e.jsx("th",{className:"py-4 px-4 text-center text-sm font-medium text-black dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:n.map((t,s)=>{var x;return e.jsxs("tr",{className:"border-b border-stroke dark:border-strokedark",children:[e.jsx("td",{className:"py-4 px-4 pl-10 text-sm text-black dark:text-white",children:a.from+s}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:t.name}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:t.email}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:e.jsx("div",{className:"flex flex-wrap items-center gap-1 text-[11px]",children:((x=t.permissions)==null?void 0:x.length)>0?t.permissions.map(r=>e.jsx("span",{children:r.name},r.id)):e.jsx("span",{className:"italic text-gray-400",children:" Tidak ada Kelas"})})}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:t.roles.map(r=>e.jsx("span",{className:"mr-2",children:r.name},r.id))}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx(l,{href:`/admin/userssiswa/${t.id}/edit`,children:e.jsx(h,{className:"text-yellow-500 hover:text-yellow-700 cursor-pointer"})}),e.jsx("button",{onClick:()=>c(t.id),className:"text-red-500 hover:text-red-700 cursor-pointer",children:e.jsx(p,{})})]})})]},t.id)})})]})}),e.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[a.prev_page_url&&e.jsx(l,{href:a.prev_page_url,className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Sebelumnya"}),a.next_page_url&&e.jsx(l,{href:a.next_page_url,className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Selanjutnya"})]})]})})};export{y as default};
