import{R as l}from"./app-DTDmjdni.js";const g=t=>{let e;const s=new Set,n=(r,p)=>{const c=typeof r=="function"?r(e):r;if(!Object.is(c,e)){const d=e;e=p??(typeof c!="object"||c===null)?c:Object.assign({},e,c),s.forEach(f=>f(e,d))}},o=()=>e,i={setState:n,getState:o,getInitialState:()=>b,subscribe:r=>(s.add(r),()=>s.delete(r))},b=e=t(n,o,i);return i},m=t=>t?g(t):g,y=t=>t;function R(t,e=y){const s=l.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return l.useDebugValue(s),s}const S=t=>{const e=m(t),s=n=>R(e,n);return Object.assign(s,e),s},I=t=>t?S(t):S,w=I(t=>({request:{class:"",subject:"",type:"",answerType:""},response:[],isLoading:null,setRequest:e=>t(s=>{const{name:n,value:o}=e,u={...s.request};return u[n]=o,{request:u}}),setIsLoading:e=>t(()=>({isLoading:e})),updateResponse:e=>t(s=>{const n=[...s.response,...e],o=100/n.length;return{response:n.map(a=>({...a,weight:o}))}}),deleteResponse:e=>t(s=>({response:s.response.filter((n,o)=>o!=e)})),updateResponseByIndex:(e,s)=>t(n=>{const o=[...n.response];return o[e]={...o[e],...s},{response:o}}),reset:()=>t(()=>({request:{class:"",subject:"",type:"",answerType:""},response:[],isLoading:null}))}));export{w as u};
