import{q as b,W as g,j as e}from"./app-Bbl3dTYt.js";import"./index-BOUIWNRR.js";import{D as f}from"./DefaultLayout-C9e3oitZ.js";import{S as N}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{w as v}from"./sweetalert2-react-content.es-Bj2PPsSl.js";const C=()=>{var d,o;const{question:t,permissions:x}=b().props,m=v(N),{data:n,setData:c,post:u,errors:a,reset:h}=g({start_time:"",end_time:"",permissions:[],question_id:t.id}),p=s=>{const i=parseInt(s.target.value);c("permissions",s.target.checked?[...n.permissions,i]:n.permissions.filter(l=>l!==i))},j=s=>{s.preventDefault(),u("/guru/set-ulangan",{onSuccess:()=>{m.fire({title:"Berhasil!",text:"Pengaturan ulangan berhasil disimpan.",icon:"success",confirmButtonText:"OK"}),h()},onError:()=>{m.fire({title:"Gagal!",text:"Terjadi kesalahan saat menyimpan. Coba cek isian kamu.",icon:"error",confirmButtonText:"Tutup"})}})};return e.jsx(f,{children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Detail Soal"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mata Pelajaran :"})," ",(d=t.subject)==null?void 0:d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Guru:"})," ",(o=t.teacher)==null?void 0:o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Kelas:"})," ",t.classLevel]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Jenis Ujian:"})," ",t.examLevel?"Ulangan Akhir Semester":"Ulangan Tengah Semester"]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Daftar Pertanyaan:"}),t.question_inquiries.map((s,i)=>{var l;return e.jsxs("div",{className:"mb-4 p-4 border rounded bg-gray-50",children:[e.jsx("p",{children:e.jsxs("strong",{children:[i+1,". ",s.question]})}),((l=s.answer)==null?void 0:l.trim())&&e.jsxs("p",{className:"mt-2 text-sm text-black-2",children:["Jawaban  :",e.jsx("br",{})," ",s.answer]}),e.jsxs("p",{children:[" bobot : ",s.bobot,"  "]}),e.jsx("ul",{className:"list-disc pl-6 mt-2",children:s.multiple_choice.map(r=>e.jsxs("li",{className:r.isCorrect==1?"text-green-600 font-semibold":"",children:[r.text," ",r.isCorrect==1?"(Benar)":""]},r.id))})]},s.id)})]}),e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Atur Waktu dan Akses Ulangan"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Mulai"}),e.jsx("input",{type:"datetime-local",value:n.start_time,onChange:s=>c("start_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),a.start_time&&e.jsx("p",{className:"text-red-500 text-sm",children:a.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Waktu Selesai"}),e.jsx("input",{type:"datetime-local",value:n.end_time,onChange:s=>c("end_time",s.target.value),className:"w-full border px-3 py-2 rounded"}),a.end_time&&e.jsx("p",{className:"text-red-500 text-sm",children:a.end_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Izin Kelas"}),e.jsx("div",{className:"space-y-1",children:x.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:n.permissions.includes(s.id),onChange:p}),e.jsx("span",{children:s.name})]},s.id))}),a.permissions&&e.jsx("p",{className:"text-red-500 text-sm",children:a.permissions})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Simpan Pengaturan Ulangan"})]})]})]})})};export{C as default};
